<html>
  <head>
    <meta charset="utf-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <meta name="viewport" content="width=device-width,initial-scale=1" />
    <!-- Custom Stylesheet -->
    <!-- <link href="<?php echo base_url()?>asset/e-fos/plugins/sweetalert/css/sweetalert.css" rel="stylesheet">
    <link href="<?php echo base_url()?>asset/e-fos/css/style.css" rel="stylesheet"> -->
  </head>
  <style>
    /* ********************* */
    .hidden_jumlahKaryawanFix {
      display: none;
    }
    .show-hidden_jumlahKaryawanFix {
      display: block;
    }
    /* ********************* */
    /* ********************* */
    .hidden_jumlahKaryawanNon {
      display: none;
    }
    .show-hidden_jumlahKaryawanNon {
      display: block;
    }
    /* ********************* */
    /* ********************* */
    .hidden_jumlahKaryawanFix2 {
      display: none;
    }
    .show-hidden_jumlahKaryawanFix2 {
      display: block;
    }
    /* ********************* */
    /* ********************* */
    .hidden_jumlahKaryawanNon2 {
      display: none;
    }
    .show-hidden_jumlahKaryawanNon2 {
      display: block;
    }
    /* ********************* */
  </style>
  <body>
    <!--*******************
        Preloader start
    ********************-->

    <!--*******************
        Preloader end
    ********************-->
    <!--**********************************
            Content body start
        ***********************************-->
    <div class="content-body">
      <div class="container-fluid">
        <form
          id="data_entry_form"
          method="post"
          action="<?php echo site_url('data_entry/posttambahpekerjaan'); ?>"
          onsubmit="return validateFormJob()"
          required
        >
          <div class="card">
            <div class="card-body">
              <!-- jika ingin dijadikan 1 form -->
              <div class="row">
                <!-- data table pekerjaan nasabah -->
                <h4 class="card-body gradient-9" style="text-align: center">List Data Pekerjaan</h4>
                <div class="table-responsive">
                  <table class="table table-striped">
                    <thead style="background-color: grey">
                      <tr>
                        <th scope="col" style="text-align: center; color: #fff">
                          <span>No</span>
                        </th>
                        <th scope="col" style="text-align: center; color: #fff">
                          <span>Nomor Aplikasi</span>
                        </th>
                        <th scope="col" style="text-align: center; color: #fff">
                          <span>Nama Pemohon</span>
                        </th>
                        <th scope="col" style="text-align: center; color: #fff">
                          <span>Program</span>
                        </th>
                        <th scope="col" style="text-align: center; color: #fff">
                          <span>Tipe Pekerjaan</span>
                        </th>
                        <th scope="col" style="text-align: center; color: #fff">
                          <span>Verification</span>
                        </th>
                        <th scope="col"></th>
                        <th scope="col"></th>
                      </tr>
                    </thead>
                    <form action=""></form>
                    <tbody>
                      <tr *ngFor="let daWa of daWa">
                        <!-- <td style="text-align: center" scope="col">{{ i + 1 }}</td> -->
                        <!-- <td style="text-align: center;" scope="col">{{ daWa.id }}</td> -->
                        <td style="text-align: center" scope="col">{{ daWa.nama_perusahaan }}</td>
                        <td style="text-align: center" scope="col">{{ daWa.kategori_pekerjaan }}</td>
                        <td style="text-align: center" scope="col">{{ daWa.posisi_sebelum }}</td>
                        <td style="text-align: center" scope="col">{{ daWa.curef }}</td>
                        <td style="text-align: center" scope="col">{{ daWa.id }}</td>
                        <!-- (change)="getProoduct(daWa.isSelected, daWa.app_no_de)" -->
                        <!-- <td> <input   (change)="getProoduct($event, daWa.app_no_de ,i+1)"  type="checkbox" > </td> -->
                        <td class="text-end">
                          <div class="btn-group">
                            <!-- <button type="button" (click)="viewdataentry( daWa.app_no_de)"  class="btn btn-outline-info"> -->
                            <!-- <fa-icon icon="eye"></fa-icon>
                                              <span class="d-none d-md-inline">Detail</span>
                                            </button> -->
                          </div>
                        </td>
                      </tr>
                    </tbody>
                  </table>
                </div>
              </div>
              <!-- akhir dari data table nasabah -->
            </div>
          </div>
        </form>
      </div>
      <!-- #/ container -->
    </div>
    <!-- \\\\\\\\\\\\\\\\\\\\\\\\\\\\\ untuk Pekerjaan Sebelumnya ////////////////////////////////////// -->
    <div class="container-fluid">
      <form
        id="data_entry_form2"
        method="post"
        action="<?php echo site_url('data_entry/buatsavejobinfobaru'); ?>"
        onsubmit="return validateFormJobSebelum()"
        required
      >
        <div class="card">
          <!-- <tr *ngFor="let daWa of daWa"></tr> -->
          <h4 class="card card-body gradient-9" style="text-align: center">Informasi Pekerjaan Nasabah sebelumnya</h4>
          <div class="card-body">
            <div class="row">
              <div class="col">
                <div class="form-group row">
                  <tr *ngFor="let tampunganid; for: tampunganid">
                    <label class="col-sm-3 col-form-label">Kategori Pekerjaan<span class="text-danger">*</span></label>
                    <div class="col-sm-9">
                      <div class="form-group">
                        <input class="form-control" type="hidden" id="getid" name="getid" value="<?=$id?>" readonly />
                        <input
                          class="form-control"
                          type="hidden"
                          id="getlama_bekerja_tahun"
                          name="getlama_bekerja_tahun"
                          value="<?=$lama_bekerja_tahun?>"
                          readonly
                        />
                        <input
                          class="form-control"
                          type="hidden"
                          id="getlama_bekerja_bulan"
                          name="getlama_bekerja_bulan"
                          value="<?=$lama_bekerja_bulan?>"
                          readonly
                        />
                        <input
                          class="form-control"
                          type="hidden"
                          id="gettipe_perusahaan"
                          name="gettipe_perusahaan"
                          value="<?=$tipe_perusahaan?>"
                          readonly
                        />
                        <input
                          class="form-control"
                          type="hidden"
                          id="gettipe_kepegawaian"
                          name="gettipe_kepegawaian"
                          value="<?=$tipe_kepegawaian?>"
                          readonly
                        />
                        <input
                          class="form-control"
                          type="hidden"
                          id="gettipe_pekerjaan"
                          name="gettipe_pekerjaan"
                          value="<?=$tipe_pekerjaan?>"
                          readonly
                        />
                        <input
                          class="form-control"
                          type="hidden"
                          id="getjenis_bidang"
                          name="getjenis_bidang"
                          value="<?=$jenis_bidang?>"
                          readonly
                        />
                        <input class="form-control" type="hidden" id="getjabatan" name="getjabatan" value="<?=$jabatan?>" readonly />
                        <input class="form-control" type="hidden" id="umur_pensiun1" name="umur_pensiun" value="<?=$umrpen?>" readonly />
                        <select class="form-control" name="kategori_pekerjaan_sebelum" id="kategori_pekerjaan_sebelum">
                          <option value="">{{ tampunganid.kategori_pekerjaan_sebelum }}</option>
                          <option value="1">Fix Income</option>
                          <option value="2">Non Fix Income</option>
                          <option value="3">Lain-lainnya</option>
                        </select>
                      </div>
                    </div>
                  </tr>
                </div>

                <div class="form-group row">
                  <label class="col-sm-3 col-form-label">Tipe Pekerjaan<span class="text-danger">*</span></label>
                  <div class="col-sm-9">
                    <div class="form-group">
                      <select class="form-control" name="tipe_pekerjaan_sebelum" id="tipe_pekerjaan_sebelum">
                        <option value="">{{ tampunganid.tipe_pekerjaan_sebelum }}</option>
                      </select>
                    </div>
                  </div>
                </div>
                <div class="form-group row">
                  <label class="col-sm-3 col-form-label">Payroll :<span class="text-danger">*</span></label>
                  <div class="col-sm-9">
                    <!-- <label class="radio-inline mr-3">
                                            <input type="radio" name="optradio_sebelum" id="payroll_sebelum" value="1" <?php if($payroll_sebelum == 1)echo 'checked';?>>Payroll</label>
                                        <label class="radio-inline mr-3">
                                            <input type="radio" name="optradio_sebelum" id="payroll_sebeluma" value="0" <?php if($payroll_sebelum == 0)echo 'checked';?>>Non Payroll</label> -->
                  </div>
                </div>
                <!-- <div class="form-group row" id="fix_posisi_sebelum" style="display: none;">
                                    <label class="col-sm-3 col-form-label">Posisi<span class="text-danger">*</span></label>
                                    <div class="col-sm-9">
                                        <div class="form-group">
                                            <input class="form-control" id="posisi_sebelumfix" name="posisi_sebelumfix">
                                        </div>
                                    </div>
                                </div> -->
                <div class="form-group row" id="hidden_posisi_sebelum">
                  <label class="col-sm-3 col-form-label">Posisi<span class="text-danger">*</span></label>
                  <div class="col-sm-9">
                    <div class="form-group">
                      <select class="form-control" id="posisi_sebelum" name="posisi_sebelum">
                        <option>{{ tampunganid.posisi_sebelum }}</option>
                      </select>
                    </div>
                  </div>
                </div>
                <div id="proShowJenisSebelum" class="form-group row" style="display: none">
                  <label class="col-sm-3 col-form-label">Jenis Pekerjaan<span class="text-danger">*</span></label>
                  <div class="col-sm-9">
                    <div class="form-group">
                      <select class="form-control" id="jenis_pekerjaan_sebelum" name="jenis_pekerjaan_sebelum">
                        <option selected value="{{ tampunganid.jenis_pekerjaan_sebelum }}">
                          {{ tampunganid.jenis_pekerjaan_sebelum }}
                        </option>
                      </select>
                    </div>
                  </div>
                </div>
                <div class="form-group row">
                  <label class="col-sm-3 col-form-label">Nama Perusahaan<span class="text-danger">*</span></label>
                  <div class="col-sm-9">
                    <!-- <input type="hidden" id="status_s" name="status_s"  class="form-control"  value="<?=$psngan?>"> -->
                    <input type="hidden" id="curef_id1" name="curef_id1" class="form-control" value="" />
                    <input type="hidden" id="id" name="id" class="form-control" value="" />
                    <input type="hidden" id="status" name="status" class="form-control" value="" />
                    <input
                      id="app_no_de1"
                      name="app_no_de1"
                      type="hidden"
                      class="form-control"
                      placeholder="app_no_ide"
                      value=""
                      readonly
                    />
                    <input
                      type="text"
                      class="form-control"
                      placeholder="Nama Perusahaan"
                      id="nama_perusahaan_sebelum"
                      name="nama_perusahaan_sebelum"
                      value=""
                    />
                  </div>
                </div>
                <div class="form-group row">
                  <label class="col-sm-3 col-form-label">Alamat sebelum<span class="text-danger">*</span></label>
                  <div class="col-sm-9">
                    <textarea class="form-control h-150px" rows="6" id="alamat_pekerjaan_sebelum" name="alamat_pekerjaan_sebelum">{{
                      tampunganid.alamat_pekerjaan_sebelum
                    }}</textarea>
                  </div>
                </div>
                <div class="form-group row">
                  <label class="col-sm-3 col-form-label">Provinsi<span class="text-danger">*</span></label>
                  <div class="col-sm-9">
                    <div class="form-group">
                      <select class="form-control" id="provinsi_sebelum" name="provinsi_sebelum">
                        <option value="<?=$provinsi_sebelum?>">{{ tampunganid.provinsi_sebelum }}</option>
                      </select>
                    </div>
                  </div>
                </div>
                <div class="form-group row">
                  <label class="col-sm-3 col-form-label">Kota<span class="text-danger">*</span></label>
                  <div class="col-sm-9">
                    <div class="form-group">
                      <select class="form-control" id="kabkota_sebelum" name="kabkota_sebelum">
                        <option value="<?=$kabkota_sebelum?>">{{ tampunganid.kabkota_sebelum }}</option>
                      </select>
                    </div>
                  </div>
                </div>
                <div class="form-group row">
                  <label class="col-sm-3 col-form-label">Kecamatan<span class="text-danger">*</span></label>
                  <div class="col-sm-9">
                    <div class="form-group">
                      <select class="form-control" id="kecamatan_sebelum" name="kecamatan_sebelum">
                        <option value="<?=$kecamatan_sebelum?>">{{ tampunganid.kecamatan_sebelum }}</option>
                      </select>
                    </div>
                  </div>
                </div>
                <div class="form-group row">
                  <label class="col-sm-3 col-form-label">Kelurahan<span class="text-danger">*</span></label>
                  <div class="col-sm-9">
                    <div class="form-group">
                      <select class="form-control" id="kelurahan_sebelum" name="kelurahan_sebelum">
                        <option value="<?=$kelurahan_sebelum?>">{{ tampunganid.kelurahan_sebelum }}</option>
                      </select>
                    </div>
                  </div>
                </div>
                <div class="form-group row">
                  <label class="col-sm-3 col-form-label">Kode Pos<span class="text-danger">*</span></label>
                  <div class="input-group col-sm-9">
                    <input
                      type="tel"
                      onkeypress="return onlyNumberKey(event)"
                      maxlength="8"
                      class="form-control"
                      id="kode_pos_sebelum"
                      name="kode_pos_sebelum"
                      value="{{ tampunganid.kode_pos_sebelum }}"
                    />
                    <div class="input-group-append">
                      <button onclick="buatisisebelum()" class="btn btn-outline-dark" id="kode_pos_sebelumhilang" type="button">
                        Cari Data
                      </button>
                    </div>
                  </div>
                </div>
                <div class="form-group row">
                  <label class="col-sm-3 col-form-label">RT / RW<span class="text-danger">*</span></label>
                  <div class="col">
                    <input
                      maxlength="3"
                      type="tel"
                      onkeypress="return onlyNumberKey(event)"
                      class="form-control"
                      value="{{ tampunganid.rt_sebelum }}"
                      placeholder="RT"
                      id="rt_sebelum"
                      name="rt_sebelum"
                    />
                  </div>
                  <h2>/</h2>
                  <div class="col">
                    <input
                      maxlength="3"
                      type="tel"
                      onkeypress="return onlyNumberKey(event)"
                      class="form-control"
                      placeholder="RW"
                      id="rw_sebelum"
                      value="{{ tampunganid.rw_sebelum }}"
                      name="rw_sebelum"
                    />
                  </div>
                </div>
                <div id="hidden_siup_sebelum" style="display: none">
                  <div class="form-group row">
                    <label id="changeLabelSiupSebelum" class="col-sm-3 col-form-label">Nomor SIUP<span class="text-danger">*</span></label>
                    <div class="col-sm-9">
                      <input
                        type="tel"
                        onkeypress="return onlyNumberKey(event)"
                        maxlength="16"
                        id="no_siup_sebelum"
                        name="no_siup_sebelum"
                        value="{{ tampunganid.no_siup_sebelum }}"
                        class="form-control"
                      />
                    </div>
                  </div>
                </div>
              </div>
              <div class="col">
                <div class="form-group row">
                  <label class="col-sm-4 col-form-label">Jenis Bidang<span class="text-danger">*</span></label>
                  <div class="col-sm-8">
                    <div class="form-group">
                      <select class="form-control" id="jenis_bidang_sebelum" name="jenis_bidang_sebelum">
                        <option value="">{{ tampunganid.jenis_bidang_sebelum }}</option>
                      </select>
                    </div>
                  </div>
                </div>
                <div class="form-group row">
                  <label class="col-sm-4 col-form-label">Sektor Ekonomi<span class="text-danger">*</span></label>
                  <div class="col-sm-8">
                    <div class="form-group">
                      <select class="form-control" id="sektor_ekonomi_sebelum" name="sektor_ekonomi_sebelum">
                        <option value="">{{ tampunganid.sektor_ekonomi_sebelum }}</option>
                      </select>
                    </div>
                  </div>
                </div>
                <div class="form-group row">
                  <label class="col-sm-4 col-form-label">Lama Bekerja<span class="text-danger">*</span></label>
                  <div class="col-sm-8">
                    <div class="form-row">
                      <div class="col">
                        <input
                          type="tel"
                          onkeypress="return onlyNumberKey(event)"
                          class="form-control"
                          placeholder="Tahun"
                          id="lama_bekerja_tahun_sebelum"
                          name="lama_bekerja_tahun_sebelum"
                          maxlength="2"
                          value="{{ tampunganid.lama_bekerja_tahun_sebelum }}"
                        />
                      </div>
                      <span>Tahun</span><span class="text-danger">*</span>
                      <div class="col">
                        <input
                          type="tel"
                          onkeypress="return onlyNumberKey(event)"
                          class="form-control"
                          placeholder="Bulan"
                          id="lama_bekerja_bulan_sebelum"
                          name="lama_bekerja_bulan_sebelum"
                          maxlength="2"
                          value="{{ tampunganid.lama_bekerja_bulan_sebelum }}"
                        />
                      </div>
                      <span>Bulan</span><span class="text-danger">*</span>
                    </div>
                  </div>
                </div>
                <div id="jumlahKaryawanFixSebelum" class="hidden_jumlahKaryawanFix2">
                  <div class="form-group row">
                    <label class="col-sm-4 col-form-label">Jumlah Karyawan</label>
                    <div class="col-sm-8">
                      <input
                        type="tel"
                        onkeypress="return onlyNumberKey(event)"
                        maxlength="13"
                        class="form-control"
                        value="{{ tampunganid.jumlah_karyawan_sebelumnya }}"
                        placeholder="Jumlah Karyawan"
                        id="jumlah_karyawan_sebelum"
                        name="jumlah_karyawan_sebelum"
                      />
                    </div>
                  </div>
                </div>
                <div id="jumlahKaryawanNonSebelum" class="hidden_jumlahKaryawanNon2">
                  <div class="form-group row">
                    <label class="col-sm-4 col-form-label">Jumlah Karyawan</label>
                    <div class="col-sm-8">
                      <div class="form-group">
                        <select class="form-control" id="jumlah_karyawan_sebelumnya" name="jumlah_karyawan_sebelumnya">
                          <option>{{ tampunganid.jumlah_karyawan_sebelumnya }}</option>
                        </select>
                      </div>
                    </div>
                  </div>
                </div>
                <div class="form-group row">
                  <label class="col-sm-4 col-form-label">Tipe Perusahaan<span class="text-danger">*</span></label>
                  <div class="col-sm-8">
                    <div class="form-group">
                      <select class="form-control" id="tipe_perusahaan_sebelum" name="tipe_perusahaan_sebelum">
                        <!-- <option><?=$tipe_perusahaan_sebelum?></option>

                                            <option value="<?=$tipe_perusahaan_sebelum?>">
                                                            <?php if($tipe_perusahaan_sebelum == 1)echo "Perseorangan"?>
                                                            <?php if($tipe_perusahaan_sebelum == 2)echo "PT Terbuka(Perseroan Terbatas.tbk)"?>
                                                            <?php if($tipe_perusahaan_sebelum == 3)echo "PT (Perseroan Terbatas)"?>
                                                            <?php if($tipe_perusahaan_sebelum == 4)echo "Persero"?>
                                                            <?php if($tipe_perusahaan_sebelum == 5)echo "CV"?>
                                                            <?php if($tipe_perusahaan_sebelum == 6)echo "Firma"?>
                                                        </option> -->
                        <option value="">{{ tampunganid.tipe_perusahaan_sebelum }}</option>
                      </select>
                    </div>
                  </div>
                </div>
                <div id="hideJikaNFITipeKepegawaianSebelum" class="form-group row">
                  <label class="col-sm-4 col-form-label">Tipe Kepegawaian<span class="text-danger">*</span></label>
                  <div class="col-sm-8">
                    <div class="form-group">
                      <select class="form-control" id="tipe_kepegawaian_sebelum" name="tipe_kepegawaian_sebelum">
                        <!-- <option ><?=$tipe_kepegawaian_sebelum?></option> -->
                        <option value="">{{ tampunganid.tipe_kepegawaian_sebelum }}</option>
                        <option value="1">Pegawai tetap</option>
                        <option value="2">Pegawai kontrak</option>
                      </select>
                    </div>
                  </div>
                </div>
              </div>
            </div>
            <button id="simpanData" name="simpanData" value="simpanData" class="btn btn-dark" style="float: right; display: none">
              Simpan Data
            </button>
            <button
              id="selanjutnya"
              name="selanjutnya"
              (click)="goto(tampunganid.curef)"
              value="selanjutnya"
              class="btn btn-warning"
              style="float: right"
            >
              Selanjutnya<span>&nbsp;<i class="fa fa-chevron-circle-right"></i></span>
            </button>
          </div>
        </div>
      </form>
    </div>
    <!--**********************************
            Content body end
        ***********************************-->

    <!--**********************************
        Main wrapper end
    ***********************************-->

    <!--**********************************
        Scripts
    ***********************************-->

    <!-- buat aleert -->
    <script src="<?php echo base_url()?>asset/e-fos/plugins/sweetalert/js/sweetalert.min.js"></script>
    <script src="<?php echo base_url()?>asset/e-fos/plugins/sweetalert/js/sweetalert.init.js"></script>
    <script src="<?php echo base_url();?>/asset/e-fos/plugins/common/common.min.js"></script>
    <script src="<?php echo base_url();?>/asset/e-fos/js/custom.min.js"></script>
    <script src="<?php echo base_url();?>/asset/e-fos/js/settings.js"></script>
    <script src="<?php echo base_url();?>/asset/e-fos/js/gleek.js"></script>
    <script src="<?php echo base_url();?>/asset/e-fos/js/styleSwitcher.js"></script>
    <script>
      $('#tipe_pekerjaan').change(function (e) {
        e.preventDefault();
        if (this.value == 4) {
          $('#proHidePosisi').hide();
          $('#proShowJenis').show();
          $('#hidden_siup').show();
          document.getElementById('changeLabelSiup').innerHTML = 'Nomor SIP';
        } else if (this.value == 3) {
          $('#proHidePosisi').hide();
          $('#proShowJenis').show();
          $('#hidden_siup').show();
          document.getElementById('changeLabelSiup').innerHTML = 'Nomor SIUP';
        } else {
          $('#proHidePosisi').show();
          $('#proShowJenis').hide();
        }
      });
    </script>
    <script>
      $(document).ready(function () {
        var kategoriPekerjaanJumlahKaryawan = document.getElementById('kategori_pekerjaan').value;
        // alert(kategoriPekerjaanJumlahKaryawan);
        if (kategoriPekerjaanJumlahKaryawan == 'Non Fix Income') {
          $('#jumlahKaryawanNon').show();
          $('#jumlahKaryawanFix').hide();
          $('#hideJikaNFiTipeKepegawaian').hide();
        }
        if (kategoriPekerjaanJumlahKaryawan == 'Fix Income') {
          $('#jumlahKaryawanFix').show();
          $('#hideJikaNFiTipeKepegawaian').show();
        }

        var JumlahKaryawanSebelumnyaRetrive = document.getElementById('kategori_pekerjaan_sebelum').value;
        if (JumlahKaryawanSebelumnyaRetrive == 2) {
          $('#jumlahKaryawanNonSebelum').show();
          $('#jumlahKaryawanFixSebelum').hide();
          $('#hideJikaNFITipeKepegawaianSebelum').hide();
        }
        if (JumlahKaryawanSebelumnyaRetrive == 3) {
          $('#jumlahKaryawanFixSebelum').show();
        }
      });
      var changeJumlahKaryawan = document.getElementById('kategori_pekerjaan_sebelum');
      changeJumlahKaryawan.addEventListener('change', function () {
        // alert("jsdkfj")
        if (this.value == 2) {
          $('#jumlahKaryawanNonSebelum').show();
          $('#jumlahKaryawanFixSebelum').hide();
          $('#hideJikaNFITipeKepegawaianSebelum').hide();
        }
        // alert('jhdfh')
        if (this.value == 1) {
          $('#jumlahKaryawanFixSebelum').show();
          $('#jumlahKaryawanNonSebelum').hide();
          $('#hideJikaNFITipeKepegawaianSebelum').show();
        }
      });
    </script>
    <!-- buat validasi pekerjaan sekarang-->
    <script>
      ///////////////buat Lama bekerja\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\
      const usiaPemohon = document.getElementById('umur1').value;
      const bulanBediri = document.getElementById('lama_bekerja_bulan');
      const tahunBerdiri = document.getElementById('lama_bekerja_tahun');
      bulanBediri.addEventListener('input', updateValueBerdiri);
      tahunBerdiri.addEventListener('input', updateValueBerdiri2);

      function updateValueBerdiri2(t) {
        tahunBerdiri.textContent = t.target.value;
        tahunBerdiri2.textContent = t.target.value;
        totalBulanKe2 = parseInt(tahunBerdiri2.textContent) * 12 + parseInt(bulanBediri2.textContent);
        // alert("tahun "+ totalBulanKe2)
      }
      function updateValueBerdiri(b) {
        bulanBediri.textContent = b.target.value;
        bulanBediri2.textContent = b.target.value;
        totalBulan = parseInt(tahunBerdiri.textContent) * 12 + parseInt(bulanBediri.textContent);
        // alert("bulan "+ totalBulan)
        // alert("total bulannya adalah... "+ totalBulan)
      }
      // alert("Usianya " + usiaPemohon)
      /////////////////untuk Validasi Job\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\
      function validateFormJob() {
        var validasiKategori = document.forms['data_entry_form']['kategori_pekerjaan'].value;
        if (validasiKategori == null || validasiKategori == '') {
          document.getElementById('kategori_pekerjaan').focus();
          alert('Kategori Pekerjaan Harus diisi');
          return false;
        }
        var validasiTipePekerjaan = document.forms['data_entry_form']['tipe_pekerjaan'].value;
        if (validasiTipePekerjaan == '' || validasiTipePekerjaan == null) {
          document.getElementById('tipe_pekerjaan').focus();
          alert('Tipe Pekerjaan Harus diisi');
          return false;
        }
        var validasiPayroll = document.forms['data_entry_form']['payroll'].value;
        if (validasiPayroll == '' || validasiPayroll == null) {
          document.getElementById('payroll').focus();
          alert('Payroll Harus diisi');
          return false;
        }
        var validasiJabatan = document.forms['data_entry_form']['jabatan'].value;
        // if (validasiJabatan=="" || validasiJabatan== null) {
        //     document.getElementById("jabatan").focus();
        //     alert("Jabatan Harus diisi");
        //     return false;
        // }
        // var validasiPosisi = document.forms["data_entry_form"]["posisi"].value;
        // if (validasiPosisi=="" || validasiPosisi== null) {
        //     document.getElementById("posisi").focus();
        //     alert("Posisi Harus diisi");
        //     return false;
        // }
        var validasiNamaPerusahaan = document.forms['data_entry_form']['nama_perusahaan'].value;
        if (validasiNamaPerusahaan == '' || validasiNamaPerusahaan == null) {
          document.getElementById('nama_perusahaan').focus();
          alert('Nama Perusahaan Harus diisi');
          return false;
        }
        var validasiAlamatPerusahaan = document.forms['data_entry_form']['alamat_perusahaan'].value;
        if (validasiAlamatPerusahaan == '' || validasiAlamatPerusahaan == null) {
          document.getElementById('alamat_perusahaan').focus();
          alert('Alamat Harus diisi');
          return false;
        }
        var validasiProvinsi = document.forms['data_entry_form']['provinsi_cabang_perusahaan'].value;
        if (validasiProvinsi == '' || validasiProvinsi == null) {
          document.getElementById('provinsi_cabang_perusahaan').focus();
          alert('Provinsi Harus diisi');
          return false;
        }
        var validasiKota = document.forms['data_entry_form']['kabkota_cabang_perusahaan'].value;
        if (validasiKota == '' || validasiKota == null) {
          document.getElementById('kabkota_cabang_perusahaan').focus();
          alert('Kota Harus diisi');
          return false;
        }
        var validasiKecamatan = document.forms['data_entry_form']['kecamatan_perusahaan'].value;
        if (validasiKecamatan == '' || validasiKecamatan == null) {
          document.getElementById('kecamatan_perusahaan').focus();
          alert('Kecamatan Harus diisi');
          return false;
        }
        var validasiKelurahan = document.forms['data_entry_form']['kelurahan'].value;
        if (validasiKelurahan == '' || validasiKelurahan == null) {
          document.getElementById('kelurahan').focus();
          alert('Kelurahan Harus diisi');
          return false;
        }
        var validasiKodePos = document.forms['data_entry_form']['kode_pos'].value;
        if (validasiKodePos == '' || validasiKodePos == null) {
          document.getElementById('kode_pos').focus();
          alert('Kode Pos Harus diisi');
          return false;
        }
        var validasiRt = document.forms['data_entry_form']['rt'].value;
        if (validasiRt == '' || validasiRt == null) {
          document.getElementById('rt').focus();
          alert('RT Harus diisi');
          return false;
        }
        var validasiRw = document.forms['data_entry_form']['rw'].value;
        if (validasiRw == '' || validasiRw == null) {
          document.getElementById('rw').focus();
          alert('RW Harus diisi');
          return false;
        }
        // var validasiNoSiup = document.forms["data_entry_form"]["no_siup"].value;
        // if (validasiNoSiup=="" || validasiNoSiup== null) {
        //     alert("Kode Pos Harus diisi");
        //     return false;
        // }
        var validasiJenisBidang = document.forms['data_entry_form']['jenis_bidang_perusahaan'].value;
        if (validasiJenisBidang == '' || validasiJenisBidang == null) {
          document.getElementById('jenis_bidang_perusahaan').focus();
          alert('Jenis Bidang Harus diisi');
          return false;
        }
        var validasiJenisSektor = document.forms['data_entry_form']['jenis_sektor_perusahaan'].value;
        if (validasiJenisSektor == '' || validasiJenisSektor == null) {
          document.getElementById('jenis_sektor_perusahaan').focus();
          alert('Sektor Ekonomi Harus diisi');
          return false;
        }

        var validasiUmurPensiun = document.forms['data_entry_form']['umur_pensiun'].value;
        if (validasiUmurPensiun == '' || validasiUmurPensiun == null || validasiUmurPensiun < usiaPemohon) {
          document.getElementById('umur_pensiun').focus();
          alert('Umur Pensiunan Harus diisi dan Umur Pensiun tidak boleh sama dengan atau kurang dari umur pemohon');
          return false;
        }
        var validasiLamaBekerjaTahun = document.forms['data_entry_form']['lama_bekerja_tahun'].value;
        if (validasiLamaBekerjaTahun == '' || validasiLamaBekerjaTahun == null) {
          document.getElementById('lama_bekerja_tahun').focus();
          alert('Lama Bekerja Tahun Harus diisi');
          return false;
        }
        var validasiLamaBekerjaBulan = document.forms['data_entry_form']['lama_bekerja_bulan'].value;
        var validasiTotalBulanBekerja = parseInt(validasiLamaBekerjaTahun) * 12 + parseInt(validasiLamaBekerjaBulan);
        if (validasiLamaBekerjaBulan == '' || validasiLamaBekerjaBulan == null) {
          document.getElementById('lama_bekerja_bulan').focus();
          alert('Lama Bekerja Bulan Harus diisi');
          return false;
        }
        var validasiPendapatan = document.forms['data_entry_form']['pendapatan'].value;
        if (validasiPendapatan == '' || validasiPendapatan == null) {
          document.getElementById('pendapatan').focus();
          alert('Pendapatan Harus diisi');
          return false;
        }
        var validasiTunjangan = document.forms['data_entry_form']['tunjangan'].value;
        if (validasiTunjangan == '' || validasiTunjangan == null) {
          document.getElementById('tunjangan').focus();
          alert('Tunjangan Harus diisi');
          return false;
        }
        var validasiTotalTunjangan = document.forms['data_entry_form']['total_pendapatan'].value;
        if (validasiTotalTunjangan == '' || validasiTotalTunjangan == null) {
          document.getElementById('total_pendapatan').focus();
          alert('Total Pendapatan Harus diisi');
          return false;
        }
        var validasiTipePerusahaan = document.forms['data_entry_form']['tipe_perusahaan'].value;
        if (validasiTipePerusahaan == '' || validasiTipePerusahaan == null) {
          document.getElementById('tipe_perusahaan').focus();
          alert('Tipe Perusahaan Harus diisi');
          return false;
        }
        var validasiJumlahKaryawanNon = document.forms['data_entry_form']['jumlah_karyawan2'].value;
        var validasiJumlahKaryawan = document.forms['data_entry_form']['jumlah_karyawan'].value;
        var validasiTipeKepegawaian = document.forms['data_entry_form']['tipe_kepegawaian'].value;
        // if (validasiTipeKepegawaian=="" || validasiTipeKepegawaian== null) {
        //     document.getElementById("tipe_kepegawaian").focus();
        //     alert("Kepegawaian Harus diisi");
        //     return false;
        // }

        // alert(validasiTotalBulanBekerja)
        ///////////jika pegawai swasta atau bumn kurang dari 12 bulan\\\\\\\\\\\\\\\\\\\\\\\
        if (validasiTipePekerjaan == 1 && validasiTotalBulanBekerja <= 12 && validasiTipeKepegawaian != 1) {
          //pns
          alert('Aplikasi tidak bisa dilanjutkan, total lama bekerja tidak valid');
          return false;
        }
        if (validasiTipePekerjaan == 8 && validasiTotalBulanBekerja < 12) {
          alert('Untuk Pegawai BUMN/BUMD, Minimal lama bekerja 1 tahun');
          return false;
        }
        if (validasiTipePekerjaan == 2 && validasiJabatan != 'Direktur' && validasiTotalBulanBekerja < 12) {
          alert('Untuk Pegawai Swasta, Minimal lama bekerja 1 tahun');
          return false;
        }
        if (validasiTipePekerjaan == 3 && validasiTotalBulanBekerja < 12) {
          ///jadi 1 tahun
          alert('Aplikasi tidak bisa dilanjutkan, total lama bekerja < 1 tahun');
          return false;
        }
        if (validasiTipePekerjaan == 4 && validasiTotalBulanBekerja < 12) {
          ///jadi 1 tahun
          alert('Aplikasi tidak bisa dilanjutkan, total lama bekerja < 1 tahun');
          return false;
        }
        ///done///
        // if((validasiTipePekerjaan == 2 ) && validasiTotalBulanBekerja >= 12 && validasiTipePerusahaan != 2 ){
        //     alert('Total Lama Bekerja Tidak Valid');
        //     return false;
        // }
        ///done///
        if (validasiJabatan != 'Direktur' && usiaPemohon > 55) {
          alert('Usia Tidak Valid');
          return false;
        }
        ///done///
        if (validasiJabatan == 'Direktur' && usiaPemohon > 65) {
          alert('Usia Tidak Valid');
          return false;
        }

        ////////////////////////////////////////jumalh karyawan/////////////////////////////////////
        if (validasiKategori == 'Fix Income') {
          if (validasiJumlahKaryawan == '' || validasiJumlahKaryawan == null) {
            document.getElementById('jumlah_karyawan').focus();
            alert('Jumlah Karyawan Harus diisi');
            return false;
          }
          if (validasiJumlahKaryawan < 25) {
            document.getElementById('jumlah_karyawan').focus();
            alert('Jumalah Karyawan Tidak Boleh Kurang Dari 25');
            return false;
          }
        }

        var untukJumlahKaryawan = validasiJumlahKaryawanNon.split('-').pop();
        if (validasiKategori == 'Non Fix Income') {
          if (untukJumlahKaryawan < 25) {
            document.getElementById('jumlah_karyawan2').focus();
            alert('Jumlah Karyawan Tidak Boleh Kurang Dari 25');
            return false;
          }
        }
        // alert(untukJumlahKaryawan < 25)
      }
    </script>
    <!-- buat validasi pekerjaan sekarang -->

    <!-- buat validasi sebelumnya -->
    <script>
      ///////////////buat Lama bekerja\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\
      const bulanBediri2 = document.getElementById('getlama_bekerja_bulan').value;
      const tahunBerdiri2 = document.getElementById('getlama_bekerja_tahun').value;
      const totalBulan2 = parseInt(tahunBerdiri2) * 12 + parseInt(bulanBediri2);
      //////////////////////////////////////////////////////////////////////////////////////////////
      const validasiKategoriPekerjaan2 = document.getElementById('kategori_pekerjaan').value;
      const validasiTipePekerjaan2 = document.getElementById('gettipe_pekerjaan').value;
      const validasiTipeKepegawaian2 = document.getElementById('gettipe_kepegawaian').value;
      const validasiJabatan2 = document.getElementById('getjabatan').value;
      const validasiTipePerusahaan2 = document.getElementById('gettipe_perusahaan').value;
      const validasiJenisBidang2 = document.getElementById('getjenis_bidang').value;
      // alert("kate  " + validasiKategoriPekerjaan2);
      // alert("tipe pekkerjaan  " +validasiTipePekerjaan2);
      // alert("tipe kepegawaian saat ini  " +validasiTipeKepegawaian2);
      // alert("jabatan  " +validasiJabatan2);
      // alert("tipe perusahaan  " +validasiTipePerusahaan2);
      // alert("bidang  " +validasiJenisBidang2);
      // alert("test "+ totalBulan2)
      // alert("kondisi ke 4 "+ (totalBulan2 >= 12));
      // alert("kondisi ke 5 "+ (validasiTipePerusahaan2 != 2));
      // alert("kondisi ke 6 "+ (totalBulan2 >= 12))
      function validateFormJobSebelum() {
        // /////////////////////////////////////////////////////////////////////////////////////////////////
        const validasiKategoriPekerjaanSebelum = document.forms['data_entry_form2']['kategori_pekerjaan_sebelum'].value;
        const namaPerusahaanSebelum = document.forms['data_entry_form2']['nama_perusahaan_sebelum'].value;
        const tipePekerjaanSebelum = document.forms['data_entry_form2']['tipe_pekerjaan_sebelum'].value;
        const tipeKepegawaianSebelum = document.forms['data_entry_form2']['tipe_kepegawaian_sebelum'].value;
        var bulanBediriSebelum = document.forms['data_entry_form2']['lama_bekerja_bulan_sebelum'].value;
        var tahunBerdiriSebelum = document.forms['data_entry_form2']['lama_bekerja_tahun_sebelum'].value;
        if (bulanBediriSebelum == null || bulanBediriSebelum == '') {
          bulanBediriSebelum = 0;
        }
        if (tahunBerdiriSebelum == null || tahunBerdiriSebelum == '') {
          tahunBerdiriSebelum = 0;
        }
        const totalBulanSebelum = parseInt(tahunBerdiriSebelum) * 12 + parseInt(bulanBediriSebelum);
        // alert("kondisi ke 1 "+ ((validasiKategoriPekerjaan2 == "Fix Income") &&  (validasiTipePekerjaan2 == 2)));
        //alert("kondisi ke 2 "+ (validasiJabatan2== "Direktur"));
        // alert("kondisi ke 3 "+ (tipePekerjaanSebelum == 1));
        // /////////////////////////////////////////////////////////////////////////////////////////////////
        const validasiJenisBidangSebelum = document.forms['data_entry_form2']['jenis_bidang_sebelum'].value;
        const potonganValidasiJenisBidang = validasiJenisBidangSebelum.substring(3);
        ////////////////////////////////////////////////////////////////////////////////////////////////////
        /////////////////buat cek iniyaaaaaaaaaaaaaaaa//////////////////////////////////////////////////////
        const validasiUmurPensiunnan = document.forms['data_entry_form2']['umur_pensiun1'].value;
        var totalLamaUsahaWiraswsta = totalBulan2 + totalBulanSebelum;
        if (validasiUmurPensiunnan == null || validasiUmurPensiunnan == '') {
          document.getElementById('rw').focus();
          alert('Gagal Menyimpan, Harap Lengkapi Pekerjaan');
          return false;
        }
        /////////////////////////////  neww  job validasi  /////////////////////////////////////////
        // else if ((validasiKategoriPekerjaan2 == "Fix Income") && (validasiTipePekerjaan2 == 1) &&
        //          (totalBulan2 <= 12) && (validasiTipeKepegawaian2 == 1)) //pns
        // {
        //     return true;
        // } ///done///
        else if (
          validasiKategoriPekerjaan2 == 'Fix Income' &&
          validasiTipePekerjaan2 == 8 &&
          totalBulan2 >= 12 &&
          validasiTipeKepegawaian2 == 1
        ) {
          // bumn
          return true;
        } ///done///
        else if (validasiKategoriPekerjaan2 == 'Fix Income' && validasiTipePekerjaan2 == 2) {
          // swasta
          // alert("masuk 1 "+(validasiJabatan2 != "Direktur"))
          // alert("masukk 2 "+ (totalBulanSebelum >= 24))
          // alert("masuk 3 "+ (tipeKepegawaianSebelum == 1))

          // else if ((validasiJabatan2 != "Direktur") && (totalBulan2 >= 12) && (validasiTipePerusahaan2  == 2))
          // {
          // alert("masuk 4 " + (totalBulan2 >= 12))
          // alert("masuk 5 " + (validasiTipeKepegawaian2 != 2))
          //     return true;
          // }
          if (validasiJabatan2 != 'Direktur' && validasiKategoriPekerjaanSebelum == '' && totalBulan2 >= 24) {
            // alert("masuk 3");
            return true;
          }
          // else
          // {
          //     alert("Aplikasi tidak bisa dilanjutkan, total lama bekerja tidak valid.");
          //     return false;
          // };
          else if (
            validasiJabatan2 != 'Direktur' &&
            validasiKategoriPekerjaanSebelum != null &&
            totalBulanSebelum >= 24 &&
            tipeKepegawaianSebelum == 1 && /// tipePekerjaanSebelum (belumnya ini)
            totalBulan2 >= 12 &&
            validasiTipeKepegawaian2 != 2
          ) {
            /// validasiTipePerusahaan2 (sebelumnya)
            // alert("masuk 2")
            return true;
          } else if (validasiJabatan2 == 'Direktur') {
            return true;
          }
          ///done///
          ///done///
          else {
            alert('Aplikasi tidak bisa dilanjutkan, total lama bekerja tidak valid');
            return false;
          }
        } else if (validasiKategoriPekerjaan2 == 'Non Fix Income' && validasiTipePekerjaan2 == 3) {
          // Wiraswasta
          // alert("Masuk wira 1"+ (validasiJenisBidang2 == validasiJenisBidangSebelum))
          //     alert("ini harus false "+ (validasiJenisBidang2 == potonganValidasiJenisBidang))
          //     alert("ini harus true "+ (validasiKategoriPekerjaanSebelum != null))
          // alert("total bulan nya "+ totalLamaUsahaWiraswsta)
          if (validasiKategoriPekerjaanSebelum == '' && totalLamaUsahaWiraswsta >= 36) {
            // alert("Masuk wira 2")
            return true;
          } else if (
            validasiKategoriPekerjaanSebelum != null &&
            (validasiJenisBidang2 == potonganValidasiJenisBidang || validasiJenisBidang2 == validasiJenisBidangSebelum) && //
            totalLamaUsahaWiraswsta >= 36
          ) {
            // alert("Masuk wira 2")
            // alert("ini harus false "+ (validasiJenisBidang2 == potonganValidasiJenisBidang))
            return true;
          } else {
            alert('Aplikasi tidak bisa dilanjutkan, total lama bekerja tidak valid atau jenis bidang usaha tidak valid');
            return false;
          }
        }
        // else
        // {
        //     alert("Aplikasi tidak bisa dilanjutkan, total lama bekerja tidak valid atau jenis bidang usaha tidak valid");
        //     return false;
        // }
        else if (validasiKategoriPekerjaan2 == 'Non Fix Income' && validasiTipePekerjaan2 == 4) {
          // profesional
          // alert(totalBulanSebelum)
          if (validasiKategoriPekerjaanSebelum == '' && totalLamaUsahaWiraswsta >= 24) {
            return true;
          } else if (
            validasiKategoriPekerjaanSebelum != null &&
            (validasiJenisBidang2 == potonganValidasiJenisBidang || validasiJenisBidang2 == validasiJenisBidangSebelum) && /// ||  validasiJenisBidang2 == validasiKaloRetriveBidang.value
            totalLamaUsahaWiraswsta >= 24
          ) {
            return true;
          } else {
            alert('Aplikasi tidak bisa dilanjutkan, total lama bekerja tidak valid atau jenis bidang usaha tidak valid');
            return false;
          }
        }

        // else if ((validasiTipePekerjaan2 == 1) && (totalLamaUsahaWiraswsta <= 12) && (validasiTipeKepegawaian2 == 1)) //pns
        // {
        //     alert("Aplikasi tidak bisa dilanjutkan, total lama bekerja tidak valid");
        //     return true;
        // }
        // else if ((validasiTipePekerjaan2 == 1) && (totalLamaUsahaWiraswsta <= 12) && (validasiTipeKepegawaian2 == 1)) //pns
        // {
        //     return true;
        // }
        else if (validasiTipePekerjaan2 == 1) {
          //pns
          return true;
        } else if (validasiTipePekerjaan2 == 5) {
          //pensiunan
          return true;
        }
        // else if ((tipePekerjaanSebelum == 6)) //tidak Bekerja
        // {
        //     return true;
        // }
        else if (validasiTipePekerjaan2 == 7) {
          //tni
          return true;
        } else {
          alert('Aplikasi tidak bisa dilanjutkan, total lama bekerja tidak valid atau jenis bidang usaha tidak valid');
          return false;
        }
        // alert("pertama "+ validasiKategoriPekerjaan2=="Non Fix Income")
        // alert("pertama "+ validasiKategoriPekerjaan2 == "Fix Income")
        // alret("pertama 0.2 "+ validasiTipePekerjaan2 == 2)
        // // alret("pertama 0.10 "+ validasiTipePekerjaan2 == 3)
        // alert("kedua "+ validasiJabatan2== "Direktur")
        // alert("kedua "+ validasiKategoriPekerjaanSebelum != null || validasiKategoriPekerjaanSebelum != "")
        // alert("ketiga "+validasiJenisBidang2 == potonganValidasiJenisBidang)
        // alert("keempat "+totalLamaUsahaWiraswsta >= 36)
        // alert(validasiJenisBidang2 == potonganValidasiJenisBidang)
      }
    </script>
    <!-- buat validasi sebelumnya -->

    <!-- get data dukcapil untuk informasi data enty -->
    <script>
      $(document).ready(function () {
        $.ajax({
          url: 'http://10.20.34.183:8080/new-efos/data_entry/getTokenDukcapil',
          dataType: 'json',
          type: 'post',
          data: {
            ket: 'prov',
            provid: '0',
          },
          success: function (response) {
            console.log(response);
            $province = '';
            $.each(response, function (i, n) {
              console.log(n['kdWilayah']);
              province = '<option value="' + n['kdWilayah'] + '|' + n['namaWilayah'] + '">' + n['namaWilayah'] + '</option>';
              province = province + '';
              $('#provinsi_cabang_perusahaan').append(province);
            });
          },
        });

        $('#provinsi_cabang_perusahaan').change(function () {
          var provid = $(this).val().substring(0, 2);
          $.ajax({
            url: 'http://10.20.34.183:8080/new-efos/data_entry/getTokenDukcapil',
            dataType: 'json',
            type: 'post',
            data: {
              ket: 'kabkota',
              provid: provid,
            },
            success: function (response) {
              console.log(response);
              $kabkota = '';
              $('#kabkota_cabang_perusahaan').empty();
              kabkota = '<option value="">Pilih Kota</option>';
              $('#kabkota_cabang_perusahaan').append(kabkota);
              $.each(response, function (i, n) {
                // console.log('tes' + n['kdWilayah']);
                kabkota = '<option id="kota" value="' + n['kdWilayah'] + '|' + n['namaWilayah'] + '">' + n['namaWilayah'] + '</option>';
                kabkota = kabkota + '';
                $('#kabkota_cabang_perusahaan').append(kabkota);
              });
            },
          });
        });

        $('#kabkota_cabang_perusahaan').change(function () {
          var kabkotaid = $(this).val().substring(0, 4);
          $.ajax({
            url: 'http://10.20.34.183:8080/new-efos/data_entry/getTokenDukcapil',
            dataType: 'json',
            type: 'post',
            data: {
              ket: 'kecamatan',
              provid: kabkotaid,
            },
            success: function (response) {
              console.log(response);
              $kecamatan = '';
              $('#kecamatan_perusahaan').empty();
              kecamatan = '<option value="">Pilih kecamatan</option>';
              $('#kecamatan_perusahaan').append(kecamatan);
              $.each(response, function (i, n) {
                console.log(n['kdWilayah']);
                kecamatan = '<option value="' + n['kdWilayah'] + '|' + n['namaWilayah'] + '">' + n['namaWilayah'] + '</option>';
                kecamatan = kecamatan + '';
                $('#kecamatan_perusahaan').append(kecamatan);
              });
            },
          });
        });

        $('#kecamatan_perusahaan').change(function () {
          var kecamatanid = $(this).val().substring(0, 6);
          $.ajax({
            url: 'http://10.20.34.183:8080/new-efos/data_entry/getTokenDukcapil',
            dataType: 'json',
            type: 'post',
            data: {
              ket: 'kelurahan',
              provid: kecamatanid,
            },
            success: function (response) {
              console.log(response);
              $kelurahan = '';
              $('#kelurahan').empty();
              kelurahan = '<option value="">Pilih kelurahan</option>';
              $('#kelurahan').append(kelurahan);
              $.each(response, function (i, n) {
                console.log(n['kdWilayah']);
                kelurahan = '<option id="kelurahan" value="' + n['kdPos'] + '|' + n['namaWilayah'] + '">' + n['namaWilayah'] + '</option>';
                kelurahan = kelurahan + '';
                $('#kelurahan').append(kelurahan);
              });
            },
          });
        });

        $('#kelurahan').change(function () {
          var kelurahanid = $(this).val().substring(0, 5);
          document.getElementById('kode_pos').value = kelurahanid;
        });
      });
    </script>
    <!-- penutup get data dukcapil untuk informasi data entry -->

    <!-- get data dukcapil untuk domisili -->
    <script>
      $(document).ready(function () {
        $.ajax({
          url: 'http://10.20.34.183:8080/new-efos/data_entry/getTokenDukcapil',
          dataType: 'json',
          type: 'post',
          data: {
            ket: 'prov',
            provid: '0',
          },
          success: function (response) {
            console.log(response);
            $province = '';
            $.each(response, function (i, n) {
              console.log(n['kdWilayah']);
              province = '<option value="' + n['kdWilayah'] + '|' + n['namaWilayah'] + '">' + n['namaWilayah'] + '</option>';
              province = province + '';
              $('#provinsi_sebelum').append(province);
            });
          },
        });

        $('#provinsi_sebelum').change(function () {
          var provid = $(this).val().substring(0, 2);
          $.ajax({
            url: 'http://10.20.34.183:8080/new-efos/data_entry/getTokenDukcapil',
            dataType: 'json',
            type: 'post',
            data: {
              ket: 'kabkota',
              provid: provid,
            },
            success: function (response) {
              console.log(response);
              $kabkota = '';
              $('#kabkota_sebelum').empty();
              kabkota = '<option value="">Pilih Kota</option>';
              $('#kabkota_sebelum').append(kabkota);
              $.each(response, function (i, n) {
                console.log('tes' + n['kdWilayah']);
                kabkota = '<option selected value="' + n['kdWilayah'] + '|' + n['namaWilayah'] + '">' + n['namaWilayah'] + '</option>';
                kabkota = kabkota + '';
                $('#kabkota_sebelum').append(kabkota);
              });
            },
          });
        });

        $('#kabkota_sebelum').change(function () {
          var kabkotaid = $(this).val().substring(0, 4);
          $.ajax({
            url: 'http://10.20.34.183:8080/new-efos/data_entry/getTokenDukcapil',
            dataType: 'json',
            type: 'post',
            data: {
              ket: 'kecamatan',
              provid: kabkotaid,
            },
            success: function (response) {
              console.log(response);
              $kecamatan = '';
              $('#kecamatan_sebelum').empty();
              kecamatan = '<option value="">Pilih Kecamatan</option>';
              $('#kecamatan_sebelum').append(kecamatan);
              $.each(response, function (i, n) {
                console.log(n['kdWilayah']);
                kecamatan = '<option value="' + n['kdWilayah'] + '|' + n['namaWilayah'] + '">' + n['namaWilayah'] + '</option>';
                kecamatan = kecamatan + '';
                $('#kecamatan_sebelum').append(kecamatan);
              });
            },
          });
        });

        $('#kecamatan_sebelum').change(function () {
          var kecamatanid = $(this).val().substring(0, 6);
          $.ajax({
            url: 'http://10.20.34.183:8080/new-efos/data_entry/getTokenDukcapil',
            dataType: 'json',
            type: 'post',
            data: {
              ket: 'kelurahan',
              provid: kecamatanid,
            },
            success: function (response) {
              console.log(response);
              $kelurahan = '';
              $('#kelurahan_sebelum').empty();
              kelurahan = '<option value="">Pilih Kelurahan</option>';
              $('#kelurahan_sebelum').append(kelurahan);
              $.each(response, function (i, n) {
                console.log(n['kdWilayah']);
                kelurahan = '<option value="' + n['kdPos'] + '|' + n['namaWilayah'] + '">' + n['namaWilayah'] + '</option>';
                kelurahan = kelurahan + '';
                $('#kelurahan_sebelum').append(kelurahan);
              });
            },
          });
        });

        $('#kelurahan_sebelum').change(function () {
          var kelurahanid = $(this).val().substring(0, 5);
          document.getElementById('kode_pos_sebelum').value = kelurahanid;
        });
      });
    </script>
    <!-- akhir get data dukcapil untuk informasi data entry -->

    <!--untuk menampilkan jenis bidang dan sektor-->
    <script>
      $(document).ready(function () {
        $.ajax({
          url: 'http://10.20.34.183:8080/new-efos/data_entry/postgetBidang',
          dataType: 'json',
          type: 'post',
          //	data: {ket: 'jenisBidang',provid: '0'},
          success: function (response) {
            console.log(response);
            $jenisBidang = '';
            $.each(response, function (i, n) {
              console.log(n['nama_group_sektor']);
              jenisBidang =
                '<option value="' + n['group_sektor'] + '|' + n['nama_group_sektor'] + '">' + n['nama_group_sektor'] + '</option>';
              jenisBidang = jenisBidang + '';
              $('#jenis_bidang_perusahaan').append(jenisBidang);
            });
            //	alert(response);
            //	console.log(response);
          },
        });

        $('#jenis_bidang_perusahaan').change(function () {
          var group_sektor = $(this).val().substring(0, 2);

          $.ajax({
            url: 'http://10.20.34.183:8080/new-efos/data_entry/postgetSektor',
            dataType: 'json',
            type: 'post',
            data: {
              group_sektor: group_sektor,
            },
            success: function (response) {
              console.log(response);
              $jenisSektor = '';
              $('#jenis_sektor_perusahaan').empty();
              $.each(response, function (i, n) {
                console.log(n['nama_sub_sektor']);
                jenisSektor =
                  '<option value="' + n['group_sektor'] + '|' + n['nama_sub_sektor'] + '">' + n['nama_sub_sektor'] + '</option>';
                jenisSektor = jenisSektor + '';
                $('#jenis_sektor_perusahaan').append(jenisSektor);
              });
              //	alert(response);
              //	console.log(response);
            },
          });
        });
      });
    </script>
    <!--penutup untuk menampilkan jenis bidang dan sektor-->

    <!--untuk menampilkan jenis bidang dan sektor sebelum-->
    <script>
      $(document).ready(function () {
        $.ajax({
          url: 'http://10.20.34.183:8080/new-efos/data_entry/postgetBidang',
          dataType: 'json',
          type: 'post',
          //	data: {ket: 'jenisBidang',provid: '0'},
          success: function (response) {
            console.log(response);
            $jenisBidang = '';
            $.each(response, function (i, n) {
              console.log(n['nama_group_sektor']);
              jenisBidang =
                '<option value="' + n['group_sektor'] + '|' + n['nama_group_sektor'] + '">' + n['nama_group_sektor'] + '</option>';
              jenisBidang = jenisBidang + '';
              $('#jenis_bidang_sebelum').append(jenisBidang);
            });
            //	alert(response);
            //	console.log(response);
          },
        });

        $('#jenis_bidang_sebelum').change(function () {
          var group_sektor = $(this).val().substring(0, 2);

          $.ajax({
            url: 'http://10.20.34.183:8080/new-efos/data_entry/postgetSektor',
            dataType: 'json',
            type: 'post',
            data: {
              group_sektor: group_sektor,
            },
            success: function (response) {
              console.log(response);
              $jenisSektor = '';
              $('#sektor_ekonomi_sebelum').empty();
              $.each(response, function (i, n) {
                console.log(n['nama_sub_sektor']);
                jenisSektor =
                  '<option value="' + n['group_sektor'] + '|' + n['nama_sub_sektor'] + '">' + n['nama_sub_sektor'] + '</option>';
                jenisSektor = jenisSektor + '';
                $('#sektor_ekonomi_sebelum').append(jenisSektor);
              });
              //	alert(response);
              //	console.log(response);
            },
          });
        });
      });
    </script>
    <!--penutup untuk menampilkan jenis bidang dan sektor sebelum-->

    <!-- ini buat tampilindataid -->
    <script>
      var ini = curef_id.value;
      // alert(ini);
      //https://pokeapi.co/api/v2/pokemon
      //http://10.20.34.110:8805/api/v1/efos-ide/list_app_ide
      fetch(`http://10.20.34.110:8805/api/v1/efos-de/getVJobByCuref?sj=` + ini)
        .then(function (response) {
          return response.json();
        })
        .then(data => {
          console.log('tes1');
          console.log(data.result.length);
          if (data.result.length > 0) {
            var temp = '';
            console.log(data.result.length);
            data.result.forEach((itemData, $i) => {
              if (itemData.kategori_pekerjaan) {
                $('#simpanData').show();
              }
              if (itemData.tipe_pekerjaan_deskripsi == 'PROFESIONAL') {
                var buatValidasiPro = '0';
                if (buatValidasiPro == '0') {
                  $('#btn').hide();
                }
              }
              temp += '<tr>';
              temp += '<td>' + ($i + 1) + '</td>';
              temp += '<td hidden>' + buatValidasiPro + '</td>';
              temp += '<td hidden>' + itemData.id + '</td>';
              temp += '<td>' + itemData.kategori_pekerjaan + '</td>';
              temp += '<td>' + itemData.tipe_pekerjaan_deskripsi + '</td>';
              temp += '<td>' + itemData.nama_perusahaan + '</td>';
              temp += '<td>' + itemData.jenis_bidang + '</td>';
              temp += '<td>' + itemData.provinsi + '</td>';
              temp +=
                '<td style="text-align: center";><span><a href=" <?=base_url().\'data_entry/buateditjobinfo/' +
                itemData.id +
                '\'?>" data-toggle="tooltip" data-placement="top" title="Edit"><i class="fa fa-pencil color-muted m-r-5"></i></a>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a id="testHapus" data-toggle="tooltip" data-placement="top" onclick="deletePhoto(' +
                itemData.id +
                ')" title="Hapus Data"><i class="fa fa-close color-danger"></i></a></span></td></tr>';
              // temp +=  "<td>" + itemData.provinsi + "</td>";
              // temp +=   "<td>" + itemData.kecamatan + "</td>";
              // temp +=  "<td>" + itemData.kabkota + "</td>";
              //temp += "<td "<button onClick="parent.location='<?php echo base_url();?>ide/initial_data_entry_non'">Detail</button>" + itemData.app_no_ide + "</td></tr>";
              //temp += "<td>"+ '<button type="button" onclick="yak1()">Try it</button>' +"</td></tr>";
              //temp += "<td>"+ '<button type="button" class="btn btn-info" onclick="window.location.href=\"<?php echo base_url();?>data_entry/personal_info\";">Detail</button>' +"</td></tr>";
              //temp += "<td>"+ '<button type="button" class="btn btn-info" onclick="yak1()">Detail</button>' +"</td></tr>";
              //temp += "<td>"+ '<input type="button" value="Detail" id="data1" class="btn btn-info" onclick="yak1()">' +"</td></tr>";
              // temp += "<td><a href=\" <?=base_url().'data_entry/buateditjobinfo/"+ itemData.id +"'?>\" class=\"btn btn-info\"> Detail</a></td></tr>";
            });

            document.getElementById('cth2').innerHTML = temp;
          }
        })
        .catch(err => {
          console.log(`Error fetching: ${err}`);
        });

      ////////////////////////////////////////////////////buat delete table job/////////////////////////////////////////////////////
      function deletePhoto($id) {
        swal(
          {
            title: 'Apakah Anda Ingin Menghapus Data ?',
            text: '', ///untuk dibawah text title
            type: 'warning',
            showCancelButton: true,
            cancelButtonText: 'Tidak !!',
            confirmButtonColor: '#D95F02',
            confirmButtonText: 'Ya, Hapus Data !!',
            closeOnConfirm: !1,
            closeOnCancel: !1,
          },
          function (e) {
            e
              ? swal(
                  'Hapus Data !',
                  'Data Telah di Hapus',
                  'success',
                  (location.href =
                    "<?php echo base_url().'data_entry/getDetailAppjob/'.@$curef.'/'.@$this->session->userdata('status_perkawinan').'/'.@$this->session->userdata('usia');?>"),
                  $.ajax({
                    type: 'POST',
                    url: 'http://10.20.34.183:8080/new-efos-beta/data_entry/hapusDataTableJob',
                    data: {
                      id: $id,
                    }, //"data"
                    dataType: 'json', //test langsung
                    success: function (data) {
                      location.reload();
                    },
                  })
                )
              : swal('Tidak', 'Data Tidak di Hapus', 'error');
          }
        );
      }
      ////////////////////////////////////////////////////buat delete table job/////////////////////////////////////////////////////
      function yak1() {
        var table1 = $('#cth1').DataTable();
        $(table1.cell(this, 1).id).val(id.name);
        window.location.assign('<?php echo base_url();?>data_entry/personal_info');
        //window.location.onclick="location.href='<?php echo base_url();?>data_entry/personal_info'";
        // alert(table1);
      }

      // buat uang
      var result = 0;

      //let fullSentence = "your code is 156 please enter the code now,";

      // var num5 = document.getElementById('pendapatan');
      //var num1 = parseInt(document.getElementById('pendapatan').replace(/^\D+|\D+$/g, "".value);
      //  var num2 = parseInt(document.getElementById('pendapatan_lain').value);
      var dengan_rupiah = document.getElementById('pendapatan');
      var dengan_rupia = document.getElementById('pendapatan_lain');
      var dengan_rupi = document.getElementById('tunjangan');
      // var noa=Integer.parseInt(dengan_rupiah);
      // var nob=Integer.parseInt(dengan_rupia);
      //var result = Number(dengan_rupiah.replaceAll('.', '')) + Number(dengan_rupia.replaceAll('.', ''));
      //result = noa + nob;

      var no2 = dengan_rupia.value.replace(/[^,\d]/g, '').toString();
      var totalpendapatan = 0;
      var totalseluru = parseInt(totalpendapatan.value) + parseInt(dengan_rupi.value);
      totalpendapatan = dengan_rupiah.value.replace(/[^,\d]/g, '').toString() + dengan_rupia.value.replace(/[^,\d]/g, '').toString();
      dengan_rupiah.addEventListener('keyup', function (e) {
        dengan_rupiah.value = formatRupiah(this.value, 'Rp. ');
        var total2 =
          parseInt(dengan_rupiah.value.replace(/[^,\d]/g, '').toString()) +
          parseInt(dengan_rupia.value.replace(/[^,\d]/g, '').toString()) +
          parseInt(dengan_rupi.value.replace(/[^,\d]/g, '').toString());
        $('#total_pendapatan').val(formatRupiahtotal(total2, 'Rp. '));
      });
      var no1 = dengan_rupiah.value.replace(/[^,\d]/g, '').toString();
      dengan_rupia.addEventListener('keyup', function (e) {
        dengan_rupia.value = formatRupiah(this.value, 'Rp. ');

        var total1 =
          parseInt(dengan_rupiah.value.replace(/[^,\d]/g, '').toString()) +
          parseInt(dengan_rupia.value.replace(/[^,\d]/g, '').toString()) +
          parseInt(dengan_rupi.value.replace(/[^,\d]/g, '').toString());
        $('#total_pendapatan').val(formatRupiahtotal(total1, 'Rp. '));
      });

      dengan_rupi.addEventListener('keyup', function (e) {
        dengan_rupi.value = formatRupiah(this.value, 'Rp. ');
        var total =
          parseInt(dengan_rupiah.value.replace(/[^,\d]/g, '').toString()) +
          parseInt(dengan_rupia.value.replace(/[^,\d]/g, '').toString()) +
          parseInt(dengan_rupi.value.replace(/[^,\d]/g, '').toString());
        $('#total_pendapatan').val(formatRupiahtotal(total, 'Rp. '));
        //    $('#total_pendapatan').val(parseInt(dengan_rupiah.value.replace(/[^,\d]/g, '').toString())+parseInt(dengan_rupia.value.replace(/[^,\d]/g, '').toString())+parseInt(dengan_rupi.value.replace(/[^,\d]/g, '').toString()) );

        dengan_rup = formatRupiah(this.value, 'Rp. ');
      });

      // // /* Fungsi */
      function formatRupiah(angka, prefix) {
        var number_string = angka.replace(/[^,\d]/g, '').toString(),
          split = number_string.split(','),
          sisa = split[0].length % 3,
          rupiah = split[0].substr(0, sisa),
          ribuan = split[0].substr(sisa).match(/\d{3}/gi);

        if (ribuan) {
          separator = sisa ? '.' : '';
          rupiah += separator + ribuan.join('.');
        }

        rupiah = split[1] != undefined ? rupiah + ',' + split[1] : rupiah;
        return prefix == undefined ? rupiah : rupiah ? 'Rp. ' + rupiah : '';
      }

      function formatRupiahtotal(angka, prefix) {
        var number_string = angka
            .toString()
            .replace(/[^,\d]/g, '')
            .toString(),
          split = number_string.split(','),
          sisa = split[0].length % 3,
          rupiah = split[0].substr(0, sisa),
          ribuan = split[0].substr(sisa).match(/\d{3}/gi);

        if (ribuan) {
          separator = sisa ? '.' : '';
          rupiah += separator + ribuan.join('.');
        }

        rupiah = split[1] != undefined ? rupiah + ',' + split[1] : rupiah;
        return prefix == undefined ? rupiah : rupiah ? 'Rp. ' + rupiah : '';
      }

      $(document).ready(function () {
        //  AJAX request
        $.ajax({
          url: 'http://10.20.34.183:8080/new-efos/data_entry/getjabatan',
          dataType: 'json',
          type: 'post',
          success: function (response) {
            console.log(response);
            $province = '';
            $.each(response, function (i, n) {
              console.log(n['deskripsi']);
              province = '<option value="' + n['jabatan_deskripsi'] + '">' + n['jabatan_deskripsi'] + '</option>';
              province = province + '';
              $('#jabatan').append(province);
            });
          },
        });
      });
      //// buat uang
    </script>

    <!-- untuk hidden nomor posisi -->
    <script>
      document.getElementById('tipe_pekerjaan_sebelum').addEventListener('change', function () {
        if (this.value == 4) {
          $('#hidden_posisi_sebelum').hide();
          $('#proShowJenisSebelum').show();
          $('#hidden_siup_sebelum').show();
          document.getElementById('changeLabelSiupSebelum').innerHTML = 'Nomor SIP';
        } else if (this.value == 3) {
          $('#hidden_posisi_sebelum').hide();
          $('#proShowJenisSebelum').show();
          $('#hidden_siup_sebelum').show();
          document.getElementById('changeLabelSiupSebelum').innerHTML = 'Nomor SIUP';
        } else {
          $('#hidden_siup_sebelum').hide();
          $('#proShowJenisSebelum').hide();
          $('#hidden_posisi_sebelum').show();
        }
      });
    </script>
    <!-- untuk hidden nomor posisi -->

    <!-- untuk hidden nomor kategori pekerjaan -->
    <script>
      document.getElementById('kategori_pekerjaan').addEventListener('change', function () {
        if (this.value == 1)
          $('.hidden_jumlahKaryawanFix').addClass('show-hidden_jumlahKaryawanFix'),
            $('.hidden_jumlahKaryawanNon').removeClass('show-hidden_jumlahKaryawanNon');
        else if (this.value == 0)
          $('.hidden_jumlahKaryawanNon').addClass('show-hidden_jumlahKaryawanNon'),
            $('.hidden_jumlahKaryawanFix').removeClass('show-hidden_jumlahKaryawanFix');
      });
    </script>
    <!-- untuk hidden nomor kategori pekerjaan -->

    <!-- untuk hidden nomor kategori pekerjaan sebelum -->
    <script>
      document.getElementById('kategori_pekerjaan_sebelum').addEventListener('change', function () {
        if (this.value == 1)
          $('.hidden_jumlahKaryawanFix2').addClass('show-hidden_jumlahKaryawanFix2'),
            $('.hidden_jumlahKaryawanNon2').removeClass('show-hidden_jumlahKaryawanNon2');
        else if (this.value == 0)
          $('.hidden_jumlahKaryawanNon2').addClass('show-hidden_jumlahKaryawanNon2'),
            $('.hidden_jumlahKaryawanFix2').removeClass('show-hidden_jumlahKaryawanFix2');
      });
    </script>
    <!-- untuk hidden nomor kategori pekerjaan sebelum -->

    <!-- untuk umur pensiun tidak boleh kurang atau sama dengan umur pemohon -->
    <script>
      var buatFokus = document.getElementById('umur_pensiun');
      buatFokus.addEventListener('mouseout', function () {
        var min = parseInt(document.getElementById('umur1').value);
        var max = parseInt(buatFokus.value);
        if (max <= min) {
          alert('Umur pension tidak boleh sama dengan atau kurang dari umur pemohon ' + max + ' <= ' + min);
          buatFokus.focus();
        } else removeEventListener;
      });
    </script>
    <!-- untuk umur pensiun tidak boleh kurang atau sama dengan umur pemohon -->

    <!-- buat biar inpunya number -->
    <script>
      function onlyNumberKey(evt) {
        var ASCIICode = evt.which ? evt.which : evt.keyCode;
        if (ASCIICode > 31 && (ASCIICode < 48 || ASCIICode > 57)) return false;
        return true;
      }

      $(document).ready(function () {
        //  AJAX request
        $.ajax({
          url: 'http://10.20.34.183:8080/new-efos/data_entry/getjabatan',
          dataType: 'json',
          type: 'post',
          success: function (response) {
            console.log(response);
            $province = '';
            $.each(response, function (i, n) {
              console.log(n['deskripsi']);
              province = '<option value="' + n['jabatan_deskripsi'] + '">' + n['jabatan_deskripsi'] + '</option>';
              province = province + '';
              $('#posisi_sebelum').append(province);
            });
          },
        });

        $.ajax({
          url: 'http://10.20.34.183:8080/new-efos/data_entry/getjenispekerjaan',
          dataType: 'json',
          type: 'post',
          success: function (response) {
            console.log(response);
            $province = '';
            $.each(response, function (i, n) {
              console.log(n['deskripsi']);
              province = '<option value="' + n['deskripsi'] + '">' + n['deskripsi'] + '</option>';
              province = province + '';
              $('#jenis_pekerjaan').append(province);
            });
          },
        });
        //////////////////jenis Pekerjaan
        $.ajax({
          url: 'http://10.20.34.183:8080/new-efos/data_entry/getjenispekerjaan',
          dataType: 'json',
          type: 'post',
          success: function (response) {
            console.log(response);
            $province = '';
            $.each(response, function (i, n) {
              console.log(n['deskripsi']);
              province = '<option value="' + n['deskripsi'] + '">' + n['deskripsi'] + '</option>';
              province = province + '';
              $('#jenis_pekerjaan_sebelum').append(province);
            });
          },
        });
        //////////////////jenis Pekerjaan
      });
      //list_jenis_pekerjaan
    </script>
    <!-- buat biar inpunya number -->

    <!---------- Bua BM --------------->
    <script>
      $(document).ready(function () {
        var grupname = WADUH.value;
        if (grupname == 'BRANCHMANAGER') {
          $('#kategori_pekerjaan').attr('disabled', 'disabled');
          $('#tipe_pekerjaan').attr('disabled', 'disabled');
          $('#payroll').attr('disabled', 'disabled');
          $('#payroll1').attr('disabled', 'disabled');
          $('#jabatan').attr('disabled', 'disabled');
          $('#posisi').attr('disabled', 'disabled');
          $('#nama_perusahaan').attr('disabled', 'disabled');
          $('#alamat_perusahaan').attr('disabled', 'disabled');
          $('#provinsi_cabang_perusahaan').attr('disabled', 'disabled');
          $('#kabkota_cabang_perusahaan').attr('disabled', 'disabled');
          $('#kecamatan_perusahaan').attr('disabled', 'disabled');
          $('#kelurahan').attr('disabled', 'disabled');
          $('#kode_pos').attr('disabled', 'disabled');
          $('#rt').attr('disabled', 'disabled');
          $('#rw').attr('disabled', 'disabled');
          $('#no_siup').attr('disabled', 'disabled');
          $('#jenis_bidang_perusahaan').attr('disabled', 'disabled');
          $('#jenis_sektor_perusahaan').attr('disabled', 'disabled');
          $('#umur1').attr('disabled', 'disabled');
          $('#umur_pensiun').attr('disabled', 'disabled');
          $('#lama_bekerja_tahun').attr('disabled', 'disabled');
          $('#lama_bekerja_bulan').attr('disabled', 'disabled');
          $('#jumlah_karyawan').attr('disabled', 'disabled');
          $('#jumlah_karyawan2').attr('disabled', 'disabled');
          $('#pendapatan').attr('disabled', 'disabled');
          $('#pendapatan_lain').attr('disabled', 'disabled');
          $('#tunjangan').attr('disabled', 'disabled');
          $('#total_pendapatan').attr('disabled', 'disabled');
          $('#kategori_pekerjaan_sebelum').attr('disabled', 'disabled');
          $('#tipe_pekerjaan_sebelum').attr('disabled', 'disabled');
          $('#payroll_sebelum').attr('disabled', 'disabled');
          $('#payroll_sebeluma').attr('disabled', 'disabled');
          $('#posisi_sebelum').attr('disabled', 'disabled');
          $('#nama_perusahaan_sebelum').attr('disabled', 'disabled');
          $('#alamat_pekerjaan_sebelum').attr('disabled', 'disabled');
          $('#provinsi_sebelum').attr('disabled', 'disabled');
          $('#kabkota_sebelum').attr('disabled', 'disabled');
          $('#kecamatan_sebelum').attr('disabled', 'disabled');
          $('#kelurahan_sebelum').attr('disabled', 'disabled');
          $('#kode_pos_sebelum').attr('disabled', 'disabled');
          $('#rt_sebelum').attr('disabled', 'disabled');
          $('#rw_sebelum').attr('disabled', 'disabled');
          $('#no_siup_sebelum').attr('disabled', 'disabled');
          $('#jenis_bidang_sebelum').attr('disabled', 'disabled');
          $('#sektor_ekonomi_sebelum').attr('disabled', 'disabled');
          $('#lama_bekerja_tahun_sebelum').attr('disabled', 'disabled');
          $('#lama_bekerja_bulan_sebelum').attr('disabled', 'disabled');
          $('#tipe_perusahaan_sebelum').attr('disabled', 'disabled');
          $('#tipe_kepegawaian_sebelum').attr('disabled', 'disabled');
          $('#tipe_perusahaan').attr('disabled', 'disabled');
          $('#tipe_kepegawaian').attr('disabled', 'disabled');
          $('#jumlah_karyawan_sebelum').attr('disabled', 'disabled');
          $('#simpanData').attr('hidden', 'hidden');
          $('#btn').attr('hidden', 'hidden');
          $('#kode_pos_sebelumhilang').attr('hidden', 'hidden');
          $('#kode_poshilang').attr('hidden', 'hidden');
          $('#jumlah_karyawan_sebelumnya').attr('disabled', 'disabled');
          $('#jenis_pekerjaan').attr('disabled', 'disabled');
          $('#jenis_pekerjaan_sebelum').attr('disabled', 'disabled');
        } else {
          $('#selanjutnya').attr('hidden', 'hidden');
        }
      });
    </script>
    <!---------- Bua BM --------------->

    <!---------------- Semua Ref ----------------->
    <script>
      $(document).ready(function () {
        var codekategori = kategori_pekerjaan_sebelum.value;

        if (codekategori == 'Fix Income') {
          var codenya = '1';
        } else {
          var codenya = '2';
        }
        // alert(codenya);
        //  AJAX request
        $.ajax({
          url: 'http://10.20.34.183:8080/new-efos/data_entry/gettipepekerjaan',
          dataType: 'json',
          type: 'post',
          data: {
            codenya: codenya,
          },
          success: function (response) {
            console.log(response);
            $province = '';
            // $('#tipe_pekerjaan_sebelum').empty();
            // province = '<option value="">Pilih Tipe </option>';
            // $('#tipe_pekerjaan_sebelum').append(province);
            $.each(response, function (i, n) {
              console.log(n['deskripsi']);
              province = '<option value="' + n['job_type_id'] + '">' + n['job_desc'] + '</option>';
              province = province + '';
              $('#tipe_pekerjaan_sebelum').append(province);
            });
          },
        });

        var codekategori = kategori_pekerjaan.value;

        if (codekategori == 'Fix Income') {
          var codenya = '1';
        } else {
          var codenya = '2';
        }
        // alert(codenya);
        //  AJAX request
        $.ajax({
          url: 'http://10.20.34.183:8080/new-efos/data_entry/gettipepekerjaan',
          dataType: 'json',
          type: 'post',
          data: {
            codenya: codenya,
          },
          success: function (response) {
            console.log(response);
            $province = '';
            $('#tipe_pekerjaan').empty();
            province = '<option value="">Pilih Tipe </option>';
            $('#tipe_pekerjaan').append(province);
            $.each(response, function (i, n) {
              console.log(n['deskripsi']);
              province = '<option value="' + n['job_type_id'] + '">' + n['job_desc'] + '</option>';
              province = province + '';
              $('#tipe_pekerjaan').append(province);
            });
          },
        });
      });
    </script>
    <script>
      $('#kategori_pekerjaan').change(function () {
        var codekategori = $(this).val();

        $.ajax({
          url: 'http://10.20.34.183:8080/new-efos/data_entry/gettipepekerjaan',
          dataType: 'json',
          type: 'post',
          data: {
            codenya: codekategori,
          },
          success: function (response) {
            console.log(response);
            $province = '';
            $('#tipe_pekerjaan').empty();
            province = '<option value="">Pilih tipe pekerjaan </option>';
            $('#tipe_pekerjaan').append(province);
            // $('#tipe_pekerjaan_sebelum').empty();
            // $('#tipe_pekerjaan_sebelum').empty();
            // province = '<option value="">Pilih Tipe Pekerjaan</option>';
            //                         $('#tipe_pekerjaan_sebelum').append(province);
            $.each(response, function (i, n) {
              console.log(n['deskripsi']);
              province = '<option value="' + n['job_type_id'] + '">' + n['job_desc'] + '</option>';
              province = province + '';
              $('#tipe_pekerjaan').append(province);
            });
          },
        });
      });
    </script>
    <script>
      $('#kategori_pekerjaan_sebelum').change(function () {
        var codekategori = $(this).val();

        $.ajax({
          url: 'http://10.20.34.183:8080/new-efos/data_entry/gettipepekerjaan',
          dataType: 'json',
          type: 'post',
          data: {
            codenya: codekategori,
          },
          success: function (response) {
            console.log(response);
            $province = '';
            $('#tipe_pekerjaan_sebelum').empty();
            province = '<option value="">Pilih tipe pekerjaan </option>';
            $('#tipe_pekerjaan_sebelum').append(province);
            // $('#tipe_pekerjaan_sebelum').empty();
            // $('#tipe_pekerjaan_sebelum').empty();
            // province = '<option value="">Pilih Tipe Pekerjaan</option>';
            //                         $('#tipe_pekerjaan_sebelum').append(province);
            $.each(response, function (i, n) {
              console.log(n['deskripsi']);
              province = '<option value="' + n['job_type_id'] + '">' + n['job_desc'] + '</option>';
              province = province + '';
              $('#tipe_pekerjaan_sebelum').append(province);
            });
          },
        });
      });
    </script>
    <script>
      $(document).ready(function () {
        //  AJAX request
        $.ajax({
          url: 'http://10.20.34.183:8080/new-efos/data_entry/gettipeperusahaan',
          dataType: 'json',
          type: 'post',
          success: function (response) {
            console.log(response);
            $province = '';
            $('#tipe_perusahaan').empty();
            province = '<option value="">Pilih tipe perusahaan </option>';
            $('#tipe_perusahaan').append(province);
            $.each(response, function (i, n) {
              console.log(n['deskripsi']);
              province = '<option value="' + n['company_code'] + '">' + n['company_deskripsi'] + '</option>';
              province = province + '';
              $('#tipe_perusahaan').append(province);
            });
          },
        });
      });
    </script>
    <script>
      $(document).ready(function () {
        //  AJAX request
        $.ajax({
          url: 'http://10.20.34.183:8080/new-efos/data_entry/gettipeperusahaan',
          dataType: 'json',
          type: 'post',
          success: function (response) {
            console.log(response);
            $province = '';

            $.each(response, function (i, n) {
              console.log(n['deskripsi']);
              province = '<option value="' + n['company_code'] + '">' + n['company_deskripsi'] + '</option>';
              province = province + '';
              $('#tipe_perusahaan_sebelum').append(province);
            });
          },
        });

        $.ajax({
          url: 'http://10.20.34.183:8080/new-efos/data_entry/getjumlahkaryawan',
          dataType: 'json',
          type: 'post',
          success: function (response) {
            console.log(response);
            $getjumlahkaryawan = '';

            $.each(response, function (i, n) {
              console.log(n['deskripsi']);
              getjumlahkaryawan = '<option value="' + n['deskripsi'] + '">' + n['deskripsi'] + '</option>';
              getjumlahkaryawan = getjumlahkaryawan + '';
              $('#jumlah_karyawan2').append(getjumlahkaryawan);
            });
          },
        });
        //////////////////////////////////////////////////
        $.ajax({
          url: 'http://10.20.34.183:8080/new-efos/data_entry/getjumlahkaryawan',
          dataType: 'json',
          type: 'post',
          success: function (response) {
            console.log(response);
            $getjumlahkaryawan = '';

            $.each(response, function (i, n) {
              console.log(n['deskripsi']);
              getjumlahkaryawan = '<option value="' + n['deskripsi'] + '">' + n['deskripsi'] + '</option>';
              getjumlahkaryawan = getjumlahkaryawan + '';
              $('#jumlah_karyawan_sebelumnya').append(getjumlahkaryawan);
            });
          },
        });
      });
    </script>
    <!---------------- Semua Ref ----------------->

    <!-------------- buat cari by kode pos ----------------->
    <script>
      function buatisisebelum() {
        var x = kode_pos_sebelum.value;
        $.ajax({
          // url: 'http://10.20.34.178:8087/efo/getWilByKdPos/' + x,
          url: 'http://10.20.34.183:8080/new-efos/data_entry/getTokenDukcapil',
          dataType: 'json',
          type: 'post',
          data: {
            ket: 'kodpos',
            provid: x,
          },
          success: function (response) {
            console.log(response);
            var da = JSON.parse(JSON.stringify(response));
            //var result_ = JSON.parse(JSON.stringify(da.result))
            var data_wilayah = JSON.parse(JSON.stringify(da.provKec));
            var data_list_kelurahan = JSON.parse(JSON.stringify(da.kels));
            console.log('data:' + data_list_kelurahan[0].kdWilayah);
            $kelurahan = '';
            $('#kelurahan_sebelum').empty();
            $.each(data_list_kelurahan, function (i, n) {
              console.log(n['kdPos']);
              if (n['kdPos'] == x) {
                console.log(n['namaWilayah']);
                kelurahan = '<option value="' + n['kdPos'] + '|' + n['namaWilayah'] + '">' + n['namaWilayah'] + '</option>';
                kelurahan = kelurahan + '';
                $('#kelurahan_sebelum').append(kelurahan);
              }
            });
            var namaprov = data_wilayah.nm_prov;
            var namakota = data_wilayah.nm_kota;
            var namakecamatan = data_wilayah.nm_kec;
            var namakelurahan = data_wilayah.nm_kel;
            var kodeprov = data_wilayah.kd_prov;
            var kodekota = data_wilayah.kd_kota;
            var kodekecamatan = data_wilayah.kd_kec;
            var kodekelurahan = data_wilayah.kd_kel;
            $('#provinsi_sebelum')
              .attr('selected', 'selected')
              .val(kodeprov + '|' + namaprov);
            $('#provinsi_sebelum option:first').text(namaprov);
            $('#kabkota_sebelum option:selected').val(kodekota + '|' + namakota);
            $('#kabkota_sebelum option:selected').text(namakota);
            $('#kecamatan_sebelum option:selected').val(kodekecamatan + '|' + namakecamatan);
            $('#kecamatan_sebelum option:selected').text(namakecamatan);
            //    $('#kelurahan_sebelum option:first').val(x + '|' + namakelurahan);
            //     $('#kelurahan_sebelum option:first').text(namakelurahan);
          },
        });
      }
    </script>
    <script>
      function buatisi() {
        var x = kode_pos.value;
        $.ajax({
          // url: 'http://10.20.34.178:8087/efo/getWilByKdPos/' + x,
          url: 'http://10.20.34.183:8080/new-efos/data_entry/getTokenDukcapil',
          dataType: 'json',
          type: 'post',
          data: {
            ket: 'kodpos',
            provid: x,
          },
          success: function (response) {
            console.log(response);
            var da = JSON.parse(JSON.stringify(response));
            //var result_ = JSON.parse(JSON.stringify(da.result))
            var data_wilayah = JSON.parse(JSON.stringify(da.provKec));
            var data_list_kelurahan = JSON.parse(JSON.stringify(da.kels));
            console.log('data:' + data_list_kelurahan[0].kdWilayah);
            $kelurahan = '';
            $('#kelurahan').empty();
            $.each(data_list_kelurahan, function (i, n) {
              console.log(n['kdPos']);
              if (n['kdPos'] == x) {
                console.log(n['namaWilayah']);
                kelurahan = '<option value="' + n['kdPos'] + '|' + n['namaWilayah'] + '">' + n['namaWilayah'] + '</option>';
                kelurahan = kelurahan + '';
                $('#kelurahan').append(kelurahan);
              }
            });
            var namaprov = data_wilayah.nm_prov;
            var namakota = data_wilayah.nm_kota;
            var namakecamatan = data_wilayah.nm_kec;
            var namakelurahan = data_wilayah.nm_kel;
            var kodeprov = data_wilayah.kd_prov;
            var kodekota = data_wilayah.kd_kota;
            var kodekecamatan = data_wilayah.kd_kec;
            var kodekelurahan = data_wilayah.kd_kel;
            $('#provinsi_cabang_perusahaan')
              .attr('selected', 'selected')
              .val(kodeprov + '|' + namaprov);
            $('#provinsi_cabang_perusahaan option:first').text(namaprov);
            $('#kabkota_cabang_perusahaan option:selected').val(kodekota + '|' + namakota);
            $('#kabkota_cabang_perusahaan option:selected').text(namakota);
            $('#kecamatan_perusahaan option:selected').val(kodekecamatan + '|' + namakecamatan);
            $('#kecamatan_perusahaan option:selected').text(namakecamatan);
            //    $('#kelurahan option:first').val(x + '|' + namakelurahan);
            //     $('#kelurahan option:first').text(namakelurahan);
          },
        });
      }
    </script>
    <!-------------- buat cari by kode pos ----------------->

    <!---------- buat retrivan pekerjaan sebelum ------------->
    <script>
      $(document).ready(function () {
        var untukretrivetipepekerjaan = document.getElementById('tipe_pekerjaan_sebelum').value;
        if (untukretrivetipepekerjaan == 4) {
          $('#hidden_posisi_sebelum').hide();
          $('#proShowJenisSebelum').show();
          $('#hidden_siup_sebelum').show();
          document.getElementById('changeLabelSiupSebelum').innerHTML = 'Nomor SIP';
        } else if (untukretrivetipepekerjaan == 3) {
          $('#hidden_posisi_sebelum').hide();
          $('#proShowJenisSebelum').show();
          $('#hidden_siup_sebelum').show();
          document.getElementById('changeLabelSiupSebelum').innerHTML = 'Nomor SIUP';
        } else {
          $('#hidden_siup_sebelum').hide();
          $('#proShowJenisSebelum').hide();
          $('#hidden_posisi_sebelum').show();
        }
      });
    </script>
    <!---------- buat retrivan pekerjaan sebelum ------------->
  </body>
</html>
